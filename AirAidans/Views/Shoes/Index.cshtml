@model IEnumerable<AirAidans.DATA.EF.Models.Shoe>;

@{
    ViewData["Title"] = "Shoes";
}


<h1 class="heading-text">Browse Shoes</h1>


<div class="container ">

    @*Search Filter*@
    @*<div class="offset-3 col-sm-6">

    <form asp-action="Search" method="get">
    <label for="categoryId" class="control-label d-block text-center">Filter by Category</label>
    <select name="categoryId" class="form-control text-center mb-3" asp-items="ViewBag.CategoryId">
    <option value="0">[Choose a Category]</option>
    </select>
    <input name="searchTerm" class="form-control text-center" placeholder="What kinda kicks?" />
    <input type="submit" value="Go" class="btn custom-btn text-center w-50 d-block mx-auto mt-3" />
    </form>


    @if (ViewBag.NbrResults != null)
    {
    <p class="mt-5 p-2 alert-warning text-center">
    Showing @ViewBag.NbrResults result@(ViewBag.NbrResults > 1 ? "s" : "") for '@ViewBag.SearchTerm'...
    </p>
    }

    </div>*@


    <p align="center">
        <a asp-action="ShoeCards" class="btn custom-btn text-center w-50 d-block">Reveal the cards?</a>
    </p>


    <p>
        <a asp-action="Create" class="btn custom-btn text-center">Create New</a>
    </p>

    @*SHOE LISTS*@
    <section>

        <div class="Container">
            <table class="table t-text">
                <thead>
                    <tr class="t-text">
                        <th>
                            @Html.DisplayNameFor(model => model.Brand)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Model)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Size)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Color)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Sku)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.ShoeDescription)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.ShoeImage)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Price)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Category)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Supplier)
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Brand)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Model)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Size)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Color)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Sku)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ShoeDescription)
                            </td>
                            <td>

                                @*@Html.DisplayFor(modelItem => item.ProductImage)*@
                                <img src="~/Assets/images/t_@item.ShoeImage" class="img-fluid" alt="No Image Found" />
                                @*Go back and change the css to ignore thumbnails.*@
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Price)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Category.CategoryId)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Supplier.SupplierName)
                            </td>
                            <td>
                                @*style="color: #802bb1*@

                                <a asp-action="Edit" asp-route-id="@item.ShoeId" style="color: #802bb1;"><i class="fa-regular fa-pen-to-square"></i></a> |
                                <a asp-action="Details" asp-route-id="@item.ShoeId" style="color: #802bb1;"><i class="fa-solid fa-list"></i></a>
                                <a asp-action="Delete" asp-route-id="@item.ShoeId" style="color: #802bb1;"><i class="fa-regular fa-trash-can"></i></a> |
                                <a asp-action="AddToCart" asp-controller="ShoppingCart" asp-route-id="@item.ShoeId" style="color: #802bb1;"><i class="fa-solid fa-cart-shopping"></i></a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </section>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {
            //Update the selector to target the element with the table class
            $('.table').DataTable();
        });
    </script>
}



